<div class="page page-table">
  <div class="row ui-section">
    <div class="col-md-4">
      <h2 class="section-header">Funcionários</h2>
    </div>

    <div class="col-md-4 col-md-offset-4 text-right">
      <button permission permission-only="permissions.createEmployee"
              ui-sref="employees.create" class="btn-w-md md-button md-ink-ripple" tooltip-placement="bottom"
              uib-tooltip="Cadastrar novo Funcionario" tooltip-append-to-body="true">
        <span class="ng-scope text-blue"><i class="zmdi zmdi-plus"></i> Novo Funcionário</span>
      </button>
    </div>
  </div>


  <ui-view>
  </ui-view>
  <div class="panel panel-default">
    <div class="panel-body">
      <table class="table no-margin" ng-show="ctrl.employeesList.length">
        <thead>
        <tr>
          <th ng-click="orderByName()">Nome 
            <i aria-hidden="true" ng-class="{'fa fa-caret-up': ctrl.orderByName == false, 'fa fa-caret-down': ctrl.orderByName == true}"></i>
          </th>
          <th ng-click="orderByTel()" class="hidden-xs">Telefone 
            <i aria-hidden="true" ng-class="{'fa fa-caret-up': ctrl.orderByTel == false, 'fa fa-caret-down': ctrl.orderByTel == true}"></i>
          </th>
          <th ng-click="orderByEmail()" class="hidden-xs">Email 
            <i aria-hidden="true" ng-class="{'fa fa-caret-up': ctrl.orderByEmail == false, 'fa fa-caret-down': ctrl.orderByEmail == true}"></i>
          </th>
          <th ng-click="orderByBranches()" class="hidden-xs">Locação 
            <i aria-hidden="true" ng-class="{'fa fa-caret-up': ctrl.orderByBranches == false, 'fa fa-caret-down': ctrl.orderByBranches == true}"></i>
          </th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="item in ctrl.employeesList">
          <td>{{item.name}} {{item.lastname}}</td>
          <td class="hidden-xs">{{item.phone}}</td>
          <td class="hidden-xs">{{item.email}}</td>
          <td class="hidden-xs"><span ng-repeat="branch in item.branches">{{branch.companyName}}</br></span></td>
          <td class="text-right">
            <button permission permission-only="permissions.readEmployee"
                    ui-sref="employees.detail({id: item._id})" class="md-raised btn-w-xs md-button md-ink-ripple half-opacity"
                    ng-click="editarFuncionario()"
                    tooltip-placement="bottom" uib-tooltip="Editar este funcionário" tooltip-append-to-body="true">
              <span class="zmdi zmdi-account-box"></span>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
      <div ng-show="!ctrl.employeesList.length" class="text-center">
        <p><i>Não há clientes cadastrados</i></p>
      </div>
    </div>
  </div>
</div>
